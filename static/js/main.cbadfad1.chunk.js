(this.webpackJsonpbooking=this.webpackJsonpbooking||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var i=a(4),n=a.n(i),d=a(30),c=a.n(d),m=(a(39),a(40),a(8));var s=a(31);function r(e,t){var a=new Date(t.date_time);return function(e){return e instanceof Date&&!isNaN(e)}(a)&&e.push(a),e}function o(e,t){return e-t}var _=a(25),l=a(34),u=(a(43),a(5));function b(e){var t=e.availabilities||[],a={disabled:function(e){return!function(e,t){return t.some((function(t){return Object(s.a)(t,e)}))}(e,t)}};t.length||(a={disabled:function(e){return!0}});return Object(u.jsx)("div",{className:"calendarComponent-container calendar-flex-item",children:Object(u.jsx)("div",{className:"nice-calendar-container",children:Object(u.jsx)(l.a,{date:e.selectedDay,minimumDate:new Date,modifiers:a,locale:_.a,onDateChange:function(t){"function"===typeof e.onDateChange&&e.onDateChange(t)}})})})}function j(e){var t=e.name||"",a=e.selectedDay||"";return Object(u.jsx)("div",{className:"calendarComponent-vendor calendar-flex-item",children:Object(u.jsxs)("div",{className:"vendor-info-container",children:[Object(u.jsxs)("div",{className:"vendor-name-container",children:["Vendor Name:",Object(u.jsx)("p",{children:Object(u.jsx)("b",{children:t})})]}),!a&&Object(u.jsx)("p",{children:"Please select a day"})]})})}var p=a(53);function f(){return Object(u.jsx)("div",{className:"loading-container",children:Object(u.jsx)("div",{className:"loading-text",children:"Please Wait..."})})}function O(e){var t=e.availableSlots||[],a=e.bookedSlots||[],n=e.isLoading||!1,d=Object(i.useState)([]),c=Object(m.a)(d,2),s=c[0],r=c[1];Object(i.useEffect)((function(){var e=[];t.map((function(t,i){var n=a.includes(t.getTime().toString())?"isReserved":"";return e.push(Object(u.jsx)("span",{className:"timeslot-item ".concat(n),onClick:function(){return o(t,n)},children:Object(p.a)(t,"HH:mm",{locale:_.a})},i))})),r(e)}),[a]);var o=function(t,a){a||"function"===typeof e.onTimeslotClick&&e.onTimeslotClick(t)};return Object(u.jsx)("div",{className:"calendarComponent-timeslots calendar-flex-item",children:Object(u.jsx)("div",{className:"timeslot-container",children:n?Object(u.jsx)(f,{}):s})})}var h=a(0),v=a.n(h),x=a(19),g=a(33),y="https://vbbmudhzmgbkacqjnsgo.supabase.co",k="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMDU3MzgzMSwiZXhwIjoxOTQ2MTQ5ODMxfQ.qSHDEHJDbjaDd0hqfByWBJgiwVtibKAw4-Q6R12DOXA",N=Object(g.a)(y,k),D={vendor:{name:"Happily Ever After",time_zone:"-03:00"},calendar:[{date_time:"2020-10-24 17:10:09 +0200"},{date_time:"2020-10-25 13:11:55 +0100"},{date_time:"2020-10-26 23:43:20 +0100"},{date_time:"2020-11-01 04:50:17 +0100"},{date_time:"2020-11-01 19:45:32 +0100"},{date_time:"2020-11-06 21:36:23 +0100"},{date_time:"2020-11-11 05:08:07 +0100"},{date_time:"2020-11-14 06:44:38 +0100"},{date_time:"2020-11-18 03:01:16 +0100"},{date_time:"2020-11-18 22:41:57 +0100"},{date_time:"2020-11-18 23:57:46 +0100"},{date_time:"2020-11-19 14:27:33 +0100"},{date_time:"2020-11-19 22:00:35 +0100"},{date_time:"2020-11-25 05:46:55 +0100"},{date_time:"2020-11-29 02:44:54 +0100"},{date_time:"2020-12-02 17:58:20 +0100"},{date_time:"2020-12-11 00:01:15 +0100"},{date_time:"2020-12-11 16:28:53 +0100"},{date_time:"2020-12-12 19:14:44 +0100"},{date_time:"2020-12-13 11:11:52 +0100"},{date_time:"2020-12-15 06:29:18 +0100"},{date_time:"2020-12-15 09:00:33 +0100"},{date_time:"2020-12-18 22:02:19 +0100"},{date_time:"2020-12-21 05:53:20 +0100"},{date_time:"2020-12-21 23:31:25 +0100"},{date_time:"2020-12-22 10:04:44 +0100"},{date_time:"2020-12-22 10:14:45 +0100"},{date_time:"2020-12-25 04:59:03 +0100"},{date_time:"2020-12-27 07:32:15 +0100"},{date_time:"2020-12-29 13:11:51 +0100"},{date_time:"2020-12-29 22:51:07 +0100"},{date_time:"2021-01-07 15:55:09 +0100"},{date_time:"2021-01-08 21:07:59 +0100"},{date_time:"2021-01-08 21:20:44 +0100"},{date_time:"2021-01-13 11:30:57 +0100"},{date_time:"2021-01-13 12:13:12 +0100"},{date_time:"2021-01-14 11:12:39 +0100"},{date_time:"2021-01-15 13:43:24 +0100"},{date_time:"2021-01-15 17:37:33 +0100"},{date_time:"2021-01-15 22:46:12 +0100"},{date_time:"2021-01-15 23:36:11 +0100"},{date_time:"2021-01-16 18:41:47 +0100"},{date_time:"2021-01-20 00:58:41 +0100"},{date_time:"2021-01-23 13:01:32 +0100"},{date_time:"2021-01-27 09:41:08 +0100"},{date_time:"2021-01-27 12:51:55 +0100"},{date_time:"2021-01-31 14:22:06 +0100"},{date_time:"2021-02-03 11:13:09 +0100"},{date_time:"2021-02-09 02:06:07 +0100"},{date_time:"2021-02-11 02:53:07 +0100"},{date_time:"2021-02-14 04:45:30 +0100"},{date_time:"2021-02-15 07:54:36 +0100"},{date_time:"2021-02-17 18:46:01 +0100"},{date_time:"2021-02-17 22:15:54 +0100"},{date_time:"2021-02-18 00:38:01 +0100"},{date_time:"2021-02-18 19:49:20 +0100"},{date_time:"2021-02-19 13:39:05 +0100"},{date_time:"2021-02-20 03:45:11 +0100"},{date_time:"2021-02-24 20:16:08 +0100"},{date_time:"2021-02-25 16:53:10 +0100"},{date_time:"2021-02-26 15:26:59 +0100"},{date_time:"2021-02-28 11:31:12 +0100"},{date_time:"2021-02-28 22:10:41 +0100"},{date_time:"2021-03-01 12:41:14 +0100"},{date_time:"2021-03-02 04:52:45 +0100"},{date_time:"2021-03-02 09:53:01 +0100"},{date_time:"2021-03-02 15:55:51 +0100"},{date_time:"2021-03-04 06:46:50 +0100"},{date_time:"2021-03-04 07:56:01 +0100"},{date_time:"2021-03-11 08:30:23 +0100"},{date_time:"2021-03-13 17:34:09 +0100"},{date_time:"2021-03-15 05:19:35 +0100"},{date_time:"2021-03-15 12:23:31 +0100"},{date_time:"2021-03-17 15:44:58 +0100"},{date_time:"2021-03-19 09:53:12 +0100"},{date_time:"2021-03-23 06:47:07 +0100"},{date_time:"2021-03-23 19:13:09 +0100"},{date_time:"2021-03-24 11:33:21 +0100"},{date_time:"2021-03-25 05:59:41 +0100"},{date_time:"2021-03-25 21:30:57 +0100"},{date_time:"2021-03-28 12:19:06 +0200"},{date_time:"2021-03-30 01:45:35 +0200"},{date_time:"2021-04-01 18:45:17 +0200"},{date_time:"2021-04-03 14:51:07 +0200"},{date_time:"2021-04-06 21:47:32 +0200"},{date_time:"2021-04-07 12:55:20 +0200"},{date_time:"2021-04-08 00:29:11 +0200"},{date_time:"2021-04-10 08:10:25 +0200"},{date_time:"2021-04-11 05:55:43 +0200"},{date_time:"2021-04-11 13:58:41 +0200"},{date_time:"2021-04-13 12:49:42 +0200"},{date_time:"2021-04-16 01:49:16 +0200"},{date_time:"2021-04-22 23:35:39 +0200"},{date_time:"2021-04-23 22:12:56 +0200"},{date_time:"2021-04-23 23:44:35 +0200"},{date_time:"2021-04-26 05:22:32 +0200"},{date_time:"2021-04-27 17:37:19 +0200"},{date_time:"2021-05-01 02:15:42 +0200"},{date_time:"2021-05-02 02:43:02 +0200"},{date_time:"2021-05-02 10:18:49 +0200"},{date_time:"2021-05-04 16:06:44 +0200"},{date_time:"2021-05-06 12:47:14 +0200"},{date_time:"2021-05-07 13:36:50 +0200"},{date_time:"2021-05-08 18:52:30 +0200"},{date_time:"2021-05-08 18:55:41 +0200"},{date_time:"2021-05-09 09:08:26 +0200"},{date_time:"2021-05-12 01:31:26 +0200"},{date_time:"2021-05-16 20:22:32 +0200"},{date_time:"2021-05-17 11:30:46 +0200"},{date_time:"2021-05-17 15:16:26 +0200"},{date_time:"2021-05-17 23:23:34 +0200"},{date_time:"2021-05-19 01:19:48 +0200"},{date_time:"2021-05-20 02:16:42 +0200"},{date_time:"2021-05-20 09:55:58 +0200"},{date_time:"2021-05-21 07:02:23 +0200"},{date_time:"2021-05-23 07:31:17 +0200"},{date_time:"2021-05-23 14:28:06 +0200"},{date_time:"2021-05-24 09:55:14 +0200"},{date_time:"2021-05-27 15:15:43 +0200"},{date_time:"2021-05-28 19:48:56 +0200"},{date_time:"2021-05-30 13:25:10 +0200"},{date_time:"2021-05-31 00:31:19 +0200"},{date_time:"2021-06-02 11:35:44 +0200"},{date_time:"2021-06-03 03:03:38 +0200"},{date_time:"2021-06-03 07:41:53 +0200"},{date_time:"2021-06-05 05:48:59 +0200"},{date_time:"2021-06-05 07:29:25 +0200"},{date_time:"2021-06-05 16:43:55 +0200"},{date_time:"2021-06-09 16:55:43 +0200"},{date_time:"2021-06-10 01:52:52 +0200"},{date_time:"2021-06-20 06:55:16 +0200"},{date_time:"2021-06-22 14:52:41 +0200"},{date_time:"2021-06-26 05:11:53 +0200"},{date_time:"2021-06-30 23:23:28 +0200"},{date_time:"2021-07-07 13:11:41 +0200"},{date_time:"2021-07-07 14:58:08 +0200"},{date_time:"2021-07-11 06:31:38 +0200"},{date_time:"2021-07-11 08:39:54 +0200"},{date_time:"2021-07-13 07:51:49 +0200"},{date_time:"2021-07-15 06:17:19 +0200"},{date_time:"2021-07-15 12:49:15 +0200"},{date_time:"2021-07-15 19:27:16 +0200"},{date_time:"2021-07-19 12:13:17 +0200"},{date_time:"2021-07-24 00:37:02 +0200"},{date_time:"2021-07-24 03:31:50 +0200"},{date_time:"2021-07-24 12:13:56 +0200"},{date_time:"2021-07-25 20:49:10 +0200"},{date_time:"2021-07-26 20:54:12 +0200"},{date_time:"2021-07-27 00:21:31 +0200"},{date_time:"2021-07-28 16:35:27 +0200"},{date_time:"2021-07-29 00:41:51 +0200"},{date_time:"2021-07-31 03:26:45 +0200"},{date_time:"2021-08-03 18:58:56 +0200"},{date_time:"2021-08-04 13:48:29 +0200"},{date_time:"2021-08-05 20:24:32 +0200"},{date_time:"2021-08-05 21:57:03 +0200"},{date_time:"2021-08-06 23:28:56 +0200"},{date_time:"2021-08-07 02:07:12 +0200"},{date_time:"2021-08-08 04:17:19 +0200"},{date_time:"2021-08-12 13:29:12 +0200"},{date_time:"2021-08-13 10:36:32 +0200"},{date_time:"2021-08-13 19:40:23 +0200"},{date_time:"2021-08-14 15:40:04 +0200"},{date_time:"2021-08-16 03:55:42 +0200"},{date_time:"2021-08-19 11:21:12 +0200"},{date_time:"2021-08-19 18:29:35 +0200"},{date_time:"2021-08-20 04:49:40 +0200"},{date_time:"2021-08-23 21:41:42 +0200"},{date_time:"2021-08-25 01:24:08 +0200"},{date_time:"2021-08-27 18:06:56 +0200"},{date_time:"2021-08-29 05:50:20 +0200"},{date_time:"2021-08-31 02:31:23 +0200"},{date_time:"2021-08-31 12:26:53 +0200"},{date_time:"2021-09-01 22:57:42 +0200"},{date_time:"2021-09-02 13:29:36 +0200"},{date_time:"2021-09-08 03:43:18 +0200"},{date_time:"2021-09-09 16:45:54 +0200"},{date_time:"2021-09-10 00:03:54 +0200"},{date_time:"2021-09-10 00:58:30 +0200"},{date_time:"2021-09-10 19:32:28 +0200"},{date_time:"2021-09-12 05:30:29 +0200"},{date_time:"2021-09-13 20:31:39 +0200"},{date_time:"2021-09-14 03:43:15 +0200"},{date_time:"2021-09-14 12:36:43 +0200"},{date_time:"2021-09-15 11:51:11 +0200"},{date_time:"2021-09-16 08:39:57 +0200"},{date_time:"2021-09-20 13:32:30 +0200"},{date_time:"2021-09-23 22:03:05 +0200"},{date_time:"2021-09-24 04:31:11 +0200"},{date_time:"2021-09-25 22:10:59 +0200"},{date_time:"2021-09-29 19:41:01 +0200"},{date_time:"2021-10-01 09:47:43 +0200"},{date_time:"2021-10-03 12:09:17 +0200"},{date_time:"2021-10-04 10:41:41 +0200"},{date_time:"2021-10-06 02:14:35 +0200"},{date_time:"2021-10-09 19:48:46 +0200"},{date_time:"2021-10-10 03:49:07 +0200"},{date_time:"2021-10-14 11:27:51 +0200"},{date_time:"2021-10-16 19:34:18 +0200"},{date_time:"2021-10-21 01:43:34 +0200"}]};function S(){return(S=Object(x.a)(v.a.mark((function e(t,a){var i,n,d,c,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(p.a)(a,"yyyy-MM-dd"),a=a.toISOString(),e.prev=2,e.next=5,N.from("bookings").select("booking_date").eq("vendor_name",t).filter("booking_day","eq",i);case 5:if(n=e.sent,d=n.data,c=n.error,m=n.status,!c||406===m){e.next=11;break}throw c;case 11:return e.abrupt("return",{success:!0,data:d});case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function C(){return(C=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,data:D});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(x.a)(v.a.mark((function e(t,a,i){var n,d,c,m,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=i.getTime(),n=Object(p.a)(i,"yyyy-MM-dd"),e.prev=2,e.next=5,N.from("bookings").upsert({vendor_name:t,message:a,booking_date:i,booking_day:n},{ignoreDuplicates:!0}).single();case 5:if(d=e.sent,c=d.newBooking,m=d.error,s=d.status,!m||406===s){e.next=11;break}throw m;case 11:return e.abrupt("return",{success:!0,data:c});case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function I(e){var t=Object(i.useState)(""),a=Object(m.a)(t,2),n=a[0],d=a[1],c=Object(i.useState)(""),s=Object(m.a)(c,2),r=s[0],o=s[1],l=Object(i.useState)(!1),b=Object(m.a)(l,2),j=b[0],O=b[1],h=Object(i.useState)(!1),v=Object(m.a)(h,2),x=v[0],g=v[1],y=e.name||"",k=e.selectedDay||"",N=e.selectedTimeslot||"",D="none",S="block";return x&&(D="block",S="none"),Object(u.jsx)("div",{className:"calendarComponent-vendor-booking calendar-flex-item",children:Object(u.jsxs)("div",{className:"vendor-booking-container",children:[j&&Object(u.jsx)(f,{}),x&&Object(u.jsxs)("div",{className:"success-message",style:{display:D},children:['Thank you for booking with "',Object(u.jsx)("b",{children:y}),'".',Object(u.jsx)("br",{}),"A representative will contact you soon.",Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"btn book-appointment",onClick:function(){"function"===typeof e.onReset&&e.onReset()},children:"Book another Appointment"})]}),Object(u.jsxs)("div",{className:"booking-form",style:{display:S},children:[Object(u.jsxs)("div",{className:"vendor-name-container",children:["Book an Appointment:",Object(u.jsx)("p",{children:Object(u.jsx)("b",{children:y})})]}),N&&k&&Object(u.jsxs)("p",{children:["Date: ",Object(p.a)(k,"dd MMM yyyy",{locale:_.a})," at:"," ",Object(p.a)(N,"HH:mm",{locale:_.a})]}),Object(u.jsx)("div",{className:"message-form-container",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("textarea",{rows:"8",cols:"50",placeholder:"Please write a reason...",value:n,onChange:function(e){var t=e.target.value;d(t)}}),r&&Object(u.jsx)("div",{className:"required-field",children:r}),Object(u.jsx)("span",{className:"btn book-appointment",onClick:function(){n.length?(O(!0),function(e,t,a){return w.apply(this,arguments)}(y,n,N).then((function(t){t.success?(O(!1),g(!0),"function"===typeof e.onBookingDone&&e.onBookingDone()):!t.success&&t.message.includes("duplicate")?(O(!1),o("This Slot is booked, Please Choose another Slot!")):(O(!1),o("An unexpected error happened, administrator is notified!"))}))):o("* Reason can not be empty!")},children:"Book Appointment"})]})})]})]})})}a(49);function M(){var e=Object(i.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1],d=Object(i.useState)([]),c=Object(m.a)(d,2),_=c[0],l=c[1],p=Object(i.useState)(null),f=Object(m.a)(p,2),h=f[0],v=f[1],x=Object(i.useState)(null),g=Object(m.a)(x,2),y=g[0],k=g[1],N=Object(i.useState)(!1),D=Object(m.a)(N,2),w=D[0],M=D[1],T=Object(i.useState)(null),B=Object(m.a)(T,2),A=B[0],H=B[1],J=Object(i.useState)(null),R=Object(m.a)(J,2),q=R[0],z=R[1];Object(i.useEffect)((function(){(function(){return C.apply(this,arguments)})().then((function(e){if(e.success){var t=e.data.calendar.reduce(r,[]).sort(o);n(t),v(e.data.vendor.name)}}))}),[]);return Object(u.jsx)("div",{className:"calendar-app-demo-container"+(y?" --expanded":""),children:Object(u.jsxs)("div",{className:"calendarComponent-wrapper",children:[Object(u.jsx)(j,{name:h,selectedDay:y,isLoading:w}),A&&Object(u.jsx)(I,{name:h,selectedDay:y,selectedTimeslot:A,onBookingDone:function(){k(null)},onReset:function(){k(null),H(null)}}),!A&&Object(u.jsx)(b,{onDateChange:function(e){var t;M(!0),function(e,t){return S.apply(this,arguments)}(h,e).then((function(e){var t=[];e.data.forEach((function(e){t.push(e.booking_date)})),l(t),M(!1)})),k(e),z((t=e,a.filter((function(e){return Object(s.a)(e,t)}))))},availabilities:a,selectedDay:y}),y&&Object(u.jsx)(O,{availableSlots:q,onTimeslotClick:function(e){H(e)},isLoading:w,bookedSlots:_})]})})}var T=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("p",{children:"Hola"})}),Object(u.jsx)("div",{children:Object(u.jsx)(M,{})})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,d=t.getLCP,c=t.getTTFB;a(e),i(e),n(e),d(e),c(e)}))};c.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root")),B()}},[[50,1,2]]]);
//# sourceMappingURL=main.cbadfad1.chunk.js.map